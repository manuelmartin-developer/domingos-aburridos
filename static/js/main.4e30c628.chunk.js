(this.webpackJsonpdomingos=this.webpackJsonpdomingos||[]).push([[0],{108:function(e,t){},204:function(e,t,n){},205:function(e,t,n){},221:function(e,t){},262:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(98),o=n.n(c),i=(n(204),n(13)),s=n(79),l=(n(205),n(31)),u=n(132),p=n(275),b=n(281),j=n(274),d=n(179),f=n.n(d).a.mixin({toast:!0,position:"bottom-left",showConfirmButton:!1,timer:7e3,timerProgressBar:!0}),m=a.a.createContext(null),h=n(15),O=function(){var e=Object(r.useState)(2.078003349812917),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(41.30315527974634),o=Object(i.a)(c,2),s=o[0],l=o[1];(0,Object(r.useContext)(m).setTitle)("Aeropuertos");var d="https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_airports.geojson",O=[new p.a({id:"airports",data:d,filled:!0,pointRadiusMinPixels:2,pointRadiusScale:2e3,getPointRadius:function(e){return 11-e.properties.scalerank},getFillColor:[253,158,2,180],pickable:!0,autoHighlight:!0,onClick:function(e){e.object&&(a(e.object.geometry.coordinates[0]),l(e.object.geometry.coordinates[1])),f.fire({icon:!1,title:"<h3>".concat(e.object.properties.name,"</h3>"),width:"100%",html:'<iframe id="inlineFrameExample",,\n      width="100%"\n      height="400"\n      src="'.concat(e.object.properties.wikipedia,'">\n  </iframe>'),showCloseButton:!0,timer:!1})}}),new b.a({id:"arcs",data:d,dataTransform:function(e){return e.features.filter((function(e){return e.properties.scalerank<4}))},getSourcePosition:function(){return[n,s]},getTargetPosition:function(e){return e.geometry.coordinates},getSourceColor:[33,158,188],getTargetColor:[253,158,2],getWidth:1,updateTriggers:{getSourcePosition:[n,s]}})];return Object(h.jsxs)(j.a,{initialViewState:{latitude:51.47,longitude:.45,zoom:3,bearing:0,pitch:30,minZoom:3},controller:!0,layers:O,ContextProvider:u.a.Provider,children:[Object(h.jsx)(u.c,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"}),Object(h.jsx)(u.b,{style:{position:"absolute",top:80,left:10}})]})},x=function(){return Object(h.jsx)(O,{})},g=n(9),v=n.n(g),y=n(21),w=n(105),k=n.n(w),C=n(282),S=n(283),I=n(284),T=n(280),E=n(273),B=n(285),N=n(38),P=n.n(N),F=function(){var e="faa97c95",t="b5d0bb6f7664562553df2f6ae6598736",n=Object(r.useState)([]),a=Object(i.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)([]),l=Object(i.a)(s,2),u=l[0],p=l[1];(0,Object(r.useContext)(m).setTitle)("Metro Barcelona");var b=P.a.icon({iconUrl:"https://img.icons8.com/external-those-icons-lineal-color-those-icons/24/000000/external-metro-wayfinding-those-icons-lineal-color-those-icons.png"});return Object(r.useEffect)((function(){Object(y.a)(v.a.mark((function n(){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.get("https://api.tmb.cat/v1/transit/linies/metro?app_id=".concat(e,"&app_key=").concat(t));case 3:r=n.sent,o(r.data.features),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),Object(r.useEffect)((function(){Object(y.a)(v.a.mark((function n(){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.get("https://api.tmb.cat/v1/transit/estacions?app_id=".concat(e,"&app_key=").concat(t));case 3:r=n.sent,p(r.data.features),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),Object(h.jsxs)(C.a,{className:"map-container",center:[41.38,2.16],zoom:12,scrollWheelZoom:!0,children:[Object(h.jsxs)(S.a,{position:"topright",children:[Object(h.jsx)(S.a.BaseLayer,{name:"Cl\xe1sico",children:Object(h.jsx)(I.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(h.jsx)(S.a.BaseLayer,{checked:!0,name:"Blanco y negro",children:Object(h.jsx)(I.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})})]}),c.map((function(e,t){return Object(h.jsx)(T.a,{data:e,color:"#".concat(e.properties.COLOR_LINIA)},t)})),u.map((function(e,t){return Object(h.jsx)(E.a,{position:[e.geometry.coordinates[1],e.geometry.coordinates[0]],icon:b,children:Object(h.jsxs)(B.a,{children:[Object(h.jsx)("h3",{children:e.properties.NOM_ESTACIO})," (",e.properties.PICTO,")"]})},t)}))]})},_=function(){return Object(h.jsx)(F,{})},M=n(91),L=n.n(M);n(243);L.a.workerClass=n(244).default,L.a.accessToken="pk.eyJ1IjoibW1hcnRpbmRqIiwiYSI6ImNrcjYxYnBnMzAxbXkydnBnemJ0eDBtZ2wifQ.JvTICi-_V8Uo5vgqyCjvfg";var R=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useState)(2),a=Object(i.a)(n,1)[0],c=Object(r.useContext)(m);c.title;return(0,c.setTitle)("Estaci\xf3n Espacial Internacional"),Object(r.useEffect)((function(){t.current||(t.current=new L.a.Map({container:e.current,style:"mapbox://styles/mapbox/satellite-v9",center:[-6.3707,39.4762],zoom:a}))})),Object(r.useEffect)((function(){var e;return t.current.on("load",Object(y.a)(v.a.mark((function n(){var r,a,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){return c=Object(y.a)(v.a.mark((function e(n){var r,a,c,o,i,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://api.wheretheiss.at/v1/satellites/25544");case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,c=a.latitude,o=a.longitude,i=a.altitude,s=a.velocity,l=a.visibility,t.current.flyTo({center:[o,c],speed:.5,zoom:5}),t.current.on("click","iss",(function(e){f.fire({icon:"info",title:"<h3>Estaci\xf3n Espacial Internacional</h3>",html:"<b>Altitud: </b> ".concat(i.toFixed(2)," km <br/> <br/>\n              <b>Velocidad: </b> ").concat(s.toFixed(2)," km/h<br/> <br/>\n              <b>Visibilidad: </b> ").concat(l)})})),e.abrupt("return",{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,c]}}]});case 17:throw e.prev=17,e.t0=e.catch(0),n&&clearInterval(n),new Error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),c.apply(this,arguments)},a=function(e){return c.apply(this,arguments)},n.next=4,a();case 4:r=n.sent,t.current.addSource("iss",{type:"geojson",data:r}),t.current.loadImage("https://img.icons8.com/external-tal-revivo-color-tal-revivo/48/000000/external-international-space-station-satellite-with-multiples-charging-solar-panel-astronomy-color-tal-revivo.png",(function(e,n){if(e)throw e;t.current.addImage("iss_icon",n)})),t.current.addLayer({id:"iss",type:"symbol",source:"iss",layout:{"icon-image":"iss_icon"}}),t.current.on("mouseenter","iss",(function(){t.current.getCanvas().style.cursor="pointer"})),t.current.on("mouseleave","iss",(function(){t.current.getCanvas().style.cursor=""})),e=setInterval(Object(y.a)(v.a.mark((function n(){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(e);case 2:r=n.sent,t.current.getSource("iss").setData(r);case 4:case"end":return n.stop()}}),n)}))),2e3);case 11:case"end":return n.stop()}}),n)})))),function(){clearInterval(e)}}),[]),Object(h.jsx)("section",{className:"map",children:Object(h.jsx)("div",{ref:e,className:"map-container"})})},z=function(){return Object(h.jsx)(R,{})},A=function(){return Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/",component:x,exact:!0}),Object(h.jsx)(l.a,{path:"/barcelona",component:_}),Object(h.jsx)(l.a,{path:"/iss",component:z})]})},J=n.p+"static/media/logo.6d3ac2f1.png",D=n(187),V=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){a(!1)};return Object(h.jsxs)(D.bubble,{width:"100%",left:!0,isOpen:n,onStateChange:function(e){return function(e){a(e.isOpen)}(e)},children:[Object(h.jsx)(s.b,{onClick:function(){return c()},className:"menu-item",to:"/",children:"Aeropuertos - Deckgl"}),Object(h.jsx)(s.b,{onClick:function(){return c()},className:"menu-item",to:"/barcelona",children:"Metro Barcelona - Leaflet"}),Object(h.jsx)(s.b,{onClick:function(){return c()},className:"menu-item",to:"/iss",children:"Estaci\xf3n Espacial Internacional - Mapbox"})]})},q=function(){return Object(h.jsx)("nav",{className:"nav",children:Object(h.jsx)(V,{})})},W=function(){var e=Object(r.useContext)(m).title;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(q,{}),Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("div",{className:"header-title",children:Object(h.jsx)("h3",{children:e})}),Object(h.jsx)(s.b,{to:"/",children:Object(h.jsx)("img",{className:"header-logo",src:J,alt:"logo"})})]})]})},Y=function(){var e=Object(r.useState)("Aeropuertos"),t=Object(i.a)(e,2),n={title:t[0],setTitle:t[1]};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.a,{children:Object(h.jsxs)(m.Provider,{value:n,children:[Object(h.jsx)(W,{}),Object(h.jsx)(A,{})]})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[262,1,2]]]);
//# sourceMappingURL=main.4e30c628.chunk.js.map